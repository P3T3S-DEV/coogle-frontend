<navbar></navbar>

<h1>Sign up to Coogle</h1>
<div class="pb-3">
    <div id="content">
        <form [formGroup]="signupForm" (ngSubmit)="sendSignup()">
            <div class="pt-4">
                <div class="d-flex justify-content-center pb-3">
                    <input formControlName="email" class="form-control" type="email" placeholder="Email" [ngClass]="{
                    'is-invalid': getInputEmail?.invalid,
                    'is-valid': getInputEmail?.valid}">
                </div>
                <div class="d-flex justify-content-center pb-3">
                    <input formControlName="username" class="form-control" type="text" placeholder="Username" [ngClass]="{
                    'is-invalid': getInputUsername?.invalid,
                    'is-valid': getInputUsername?.valid}">
                </div>
                <div class="d-flex justify-content-center pb-3">
                    <input formControlName="password" class="form-control" type="password" placeholder="Password"
                        [ngClass]="{
                    'is-invalid': getInputPassword?.invalid,
                    'is-valid':  getInputPassword?.valid}">
                </div>
                <div class="d-flex justify-content-center">
                    <input formControlName="repassword" class="form-control" type="password"
                        placeholder="Repeat password" [ngClass]="{
                    'is-invalid': getInputRepeatPassword?.invalid,
                    'is-valid':  getInputRepeatPassword?.valid}">
                </div>
            </div>
            <div class="d-flex justify-content-center py-4">
                <button type="submit" [disabled]="!signupForm.valid" class="btn btn-danger">Register</button>
            </div>
            <a [routerLink]="['/auth/signin']"><span class="pb-4">I have an account</span></a>
        </form>
    </div>
</div>

<div id="myModal" class="modal" [style.display]="modalDisplay">

    <!-- Modal content -->
    <div class="modal-content">
        <div class="row">
            <div class="col-sm-4" *ngIf="hasError; else imgInvalid">
                <img id="error-img" src="assets/error-img.png" alt="error">
            </div>
            <ng-template #imgInvalid>
                <div class="col-sm-4">
                    <img id="check-img" src="assets/check-img.png" alt="error">
                </div>
            </ng-template>

            <div class="col-sm-7 mt-3" *ngIf="hasError; else validSignin">
                <p>{{errorMessage}}</p>
            </div>
            <ng-template #validSignin>
                <div class="col-sm-7 mt-3">
                    <p>{{username | titlecase}} created - Â¡Welcome to Coogle!</p>
                </div>
            </ng-template>

            <div class="col-sm-1" *ngIf="hasError; else navigationRow">
                <span (click)="closeDialog()" class="close">&times;</span>
            </div>
            <ng-template class="col-sm-1" #navigationRow>
                <span [routerLink]="['/auth/signin']" class="close">&gt;</span>
            </ng-template>
        </div>
    </div>
</div>